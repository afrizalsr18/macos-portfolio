@import url("https://fonts.googleapis.com/css2?family=Georama:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap");

@import "tailwindcss";

html,
body {
    width: 100dvw;
    overflow: hidden;
    height: 100dvh;
    background-image: url("/images/wallpaper.png");
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
}

@theme {
    --font-georama: "Georama", sans-serif;
    --font-roboto: "Roboto Mono", monospace;
    --breakpoint-3xl: 1920px;
}

/* GNOME-style Dark Mode Variables */
:root {
    /* Light mode (default) - GNOME Adwaita theme */
    --bg-nav: rgba(250, 250, 250, 0.95);
    --bg-window: rgb(255, 255, 255);
    --bg-sidebar: rgb(246, 245, 244);
    --bg-headerbar: rgb(235, 235, 235);
    --bg-gray-light: rgb(246, 245, 244);
    --bg-gray-medium: rgb(220, 218, 216);
    --text-primary: rgb(36, 31, 28);
    --text-secondary: rgb(94, 92, 100);
    --text-tertiary: rgb(119, 118, 123);
    --border-color: rgba(0, 0, 0, 0.15);
    --hover-bg: rgba(0, 0, 0, 0.05);
    --icon-hover-bg: rgba(0, 0, 0, 0.08);
    --accent-color: rgb(53, 132, 228);
    --accent-hover: rgb(26, 95, 180);
    --window-shadow: 0 3px 9px 1px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.1);
    --button-radius: 6px;
    --window-radius: 12px;
}

/* Dark mode - system preference - GNOME Dark theme */
@media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) {
        --bg-nav: rgba(36, 36, 36, 0.95);
        --bg-window: rgb(36, 36, 36);
        --bg-sidebar: rgb(48, 48, 48);
        --bg-headerbar: rgb(48, 48, 48);
        --bg-gray-light: rgb(48, 48, 48);
        --bg-gray-medium: rgb(60, 60, 60);
        --text-primary: rgb(255, 255, 255);
        --text-secondary: rgb(218, 218, 218);
        --text-tertiary: rgb(154, 153, 150);
        --border-color: rgba(255, 255, 255, 0.12);
        --hover-bg: rgba(255, 255, 255, 0.07);
        --icon-hover-bg: rgba(255, 255, 255, 0.1);
        --accent-color: rgb(99, 162, 255);
        --accent-hover: rgb(134, 182, 255);
        --window-shadow: 0 4px 12px 2px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(0, 0, 0, 0.8);
    }
}

/* Dark mode - manual toggle - GNOME Dark theme */
[data-theme="dark"] {
    --bg-nav: rgba(36, 36, 36, 0.95);
    --bg-window: rgb(36, 36, 36);
    --bg-sidebar: rgb(48, 48, 48);
    --bg-headerbar: rgb(48, 48, 48);
    --bg-gray-light: rgb(48, 48, 48);
    --bg-gray-medium: rgb(60, 60, 60);
    --text-primary: rgb(255, 255, 255);
    --text-secondary: rgb(218, 218, 218);
    --text-tertiary: rgb(154, 153, 150);
    --border-color: rgba(255, 255, 255, 0.12);
    --hover-bg: rgba(255, 255, 255, 0.07);
    --icon-hover-bg: rgba(255, 255, 255, 0.1);
    --accent-color: rgb(99, 162, 255);
    --accent-hover: rgb(134, 182, 255);
    --window-shadow: 0 4px 12px 2px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(0, 0, 0, 0.8);
}

@utility flex-center {
    @apply flex items-center justify-center;
}

@utility col-center {
    @apply flex flex-col items-center justify-center;
}

@utility abs-center {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
}

@layer base {
    main {
        @apply w-dvw h-dvh overflow-hidden;
    }

    nav {
        @apply flex justify-between items-center backdrop-blur-xl px-4 select-none;
        background-color: var(--bg-headerbar);
        border-bottom: 1px solid var(--border-color);
        height: 42px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);

        div {
            @apply flex items-center max-sm:w-full max-sm:justify-center gap-4;

            &:last-child {
                @apply max-sm:hidden;
            }
        }

        ul {
            @apply flex items-center gap-2 max-sm:hidden;

            p {
                @apply text-sm font-medium cursor-pointer transition-all px-3 py-1.5 rounded;
                color: var(--text-primary);

                &:hover {
                    background-color: var(--hover-bg);
                }
            }
        }

        time {
            @apply text-sm font-medium;
            color: var(--text-primary);
        }
    }
}

@layer components {
    .icon {
        @apply p-2 hover:cursor-default transition-all;
        border-radius: var(--button-radius);

        &:hover {
            background-color: var(--icon-hover-bg);
        }
    }

    #welcome {
        @apply text-gray-200 flex flex-col justify-center items-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 select-none max-sm:h-screen max-sm:w-full max-sm:px-10;

        .small-screen {
            @apply sm:hidden m-7 bg-red-300/20 backdrop-blur-lg p-3 rounded-md absolute top-10;

            p {
                @apply flex-1 text-[16px] text-center font-roboto text-gray-400;
            }
        }
    }

    #dock {
        @apply absolute left-1/2 -translate-x-1/2 z-50 select-none max-sm:hidden;
        bottom: 8px;

        .dock-container {
            @apply backdrop-blur-xl justify-center flex items-end gap-2;
            background-color: var(--bg-headerbar);
            border: 1px solid var(--border-color);
            border-radius: var(--window-radius);
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
            padding: 8px 12px;
        }

        .tooltip {
            @apply !py-1.5 !px-3 !w-fit !text-center !text-xs !font-medium;
            background-color: var(--bg-headerbar);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: var(--button-radius);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .dock-icon {
            @apply size-14 3xl:size-20 cursor-pointer transition-colors;
            border-radius: var(--button-radius);

            /* Remove transform-based hover effects to avoid conflicts with GSAP */
            &:active {
                opacity: 0.8;
            }

            img {
                @apply object-cover object-center;
            }
        }
    }

    #window-controls {
        @apply flex gap-1.5;

        .close,
        .minimize,
        .maximize {
            @apply w-8 h-8 flex items-center justify-center cursor-pointer transition-all;
            border-radius: var(--button-radius);

            &:hover {
                background-color: var(--hover-bg);
            }
        }

        .close {
            &:hover {
                background-color: rgb(192, 28, 40);
                color: white;
            }

            &::before {
                content: '✕';
                font-size: 14px;
                font-weight: 600;
                color: var(--text-secondary);
            }

            &:hover::before {
                color: white;
            }
        }

        .minimize {
            &::before {
                content: '−';
                font-size: 16px;
                font-weight: 600;
                color: var(--text-secondary);
            }
        }

        .maximize {
            &::before {
                content: '□';
                font-size: 14px;
                font-weight: 400;
                color: var(--text-secondary);
            }
        }
    }

    #window-header {
        @apply flex items-center justify-between px-3 select-none text-sm font-medium;
        background-color: var(--bg-headerbar);
        border-bottom: 1px solid var(--border-color);
        color: var(--text-primary);
        height: 46px;
        border-top-left-radius: var(--window-radius);
        border-top-right-radius: var(--window-radius);
    }

    #safari {
        @apply w-4xl absolute top-40 left-2/12 overflow-hidden;
        background-color: var(--bg-window);
        border-radius: var(--window-radius);
        box-shadow: var(--window-shadow);

        .search {
            @apply flex items-center gap-3 w-2/3 rounded-lg px-3 py-2;
            background-color: var(--bg-window);
            border: 1px solid var(--border-color);

            input {
                @apply placeholder:text-gray-400;
            }
        }

        .blog {
            @apply p-10 max-w-3xl mx-auto;
            background-color: var(--bg-window);

            h2 {
                @apply text-xl font-bold text-pink-600 mb-10;
            }

            .blog-post {
                @apply grid grid-cols-12 space-x-5;

                img {
                    @apply size-full rounded-md object-cover;
                }

                .content {
                    @apply flex-1 p-8 bg-white max-w-2xl relative;

                    li {
                        @apply absolute flex items-center flex-col gap-3;

                        img {
                            @apply object-contain object-center size-16 relative group-hover:scale-105;
                        }

                        p {
                            @apply text-sm text-center font-medium w-40;
                        }
                    }
                }

            }
        }
    }
}

#terminal {
    @apply w-xl absolute top-32 left-1/12 overflow-hidden;
    background-color: var(--bg-window);
    border-radius: var(--window-radius);
    box-shadow: var(--window-shadow);

    h2 {
        @apply font-bold text-sm text-center w-full;
        color: var(--text-primary);
    }

    .techstack {
        @apply text-sm font-roboto p-5;

        .label {
            @apply flex items-center ms-10 mt-7;
        }

        .content {
            @apply py-5 my-5 border-y border-dashed space-y-1;

            li {
                .check {
                    @apply text-[#00A154] w-5;
                }

                h3 {
                    @apply font-semibold text-[#00A154] w-32 ms-5;
                }

                ul {
                    @apply flex items-center gap-3;
                }
            }
        }

        .footnote {
            @apply text-[#00A154] space-y-1;

            p {
                @apply flex items-center;

                svg {
                    @apply w-5 me-5;
                }
            }
        }
    }
}

#contact {
    @apply max-w-2xl absolute top-60 left-5/12 overflow-hidden;
    background-color: var(--bg-window);
    border-radius: var(--window-radius);
    box-shadow: var(--window-shadow);

    h2 {
        @apply font-bold text-sm text-center w-full;
        color: var(--text-primary);
    }

    h3 {
        @apply text-xl font-semibold;
        color: var(--text-primary);
    }

    ul {
        @apply flex items-center gap-3;

        li {
            @apply rounded-lg p-3 w-60 hover:-translate-y-0.5 hover:scale-105 origin-center transition-all duration-300;

            a {
                @apply space-y-5;
            }

            p {
                @apply font-semibold text-sm text-white;
            }
        }
    }
}

#photos {
    @apply max-w-3xl absolute top-96 left-1/2 -translate-y-1/2 overflow-hidden;
    background-color: var(--bg-window);
    border-radius: var(--window-radius);
    box-shadow: var(--window-shadow);

    .sidebar {
        @apply w-3/12 flex-none border-r flex flex-col p-5;
        background-color: var(--bg-sidebar);
        border-color: var(--border-color);

        h2 {
            @apply text-xs font-medium mb-1;
            color: var(--text-tertiary);
        }

        ul {
            li {
                @apply flex space-y-1 items-center gap-2 px-3 py-2 cursor-pointer transition-colors;
                border-radius: var(--button-radius);

                &:first-child {
                    background-color: var(--accent-color);
                    color: white;
                }

                &:not(:first-child):hover {
                    background-color: var(--hover-bg);
                }

                img {
                    @apply w-4;
                }

                p {
                    @apply text-sm font-medium;
                }
            }
        }
    }

    .gallery {
        @apply p-5;

        ul {
            @apply grid grid-cols-5 grid-rows-5 gap-2.5;

            li {
                img {
                    @apply size-full object-cover rounded-lg;
                }

                &:first-child {
                    @apply row-start-1 row-span-3 col-start-1 col-span-3;
                }

                &:nth-child(2) {
                    @apply row-start-1 row-span-3 col-start-4 col-span-2;
                }

                &:nth-child(3) {
                    @apply row-start-4 row-span-2 col-start-3 col-span-3;
                }

                &:last-child {
                    @apply row-start-4 row-span-2 col-start-1 col-span-2;
                }
            }
        }
    }
}

#resume {
    @apply w-fit h-fit absolute top-16 left-7/12 overflow-hidden;
    background-color: var(--bg-window);
    border-radius: var(--window-radius);
    box-shadow: var(--window-shadow);

    #window-header {
        h2 {
            @apply font-bold text-sm text-center flex-1;
            color: var(--text-primary);
        }
    }
}

#finder {
    @apply absolute w-3xl left-40 top-20 overflow-hidden;
    border-radius: var(--window-radius);
    box-shadow: var(--window-shadow);

    .sidebar {
        @apply w-48 border-r flex flex-col p-5 space-y-3;
        background-color: var(--bg-sidebar);
        border-color: var(--border-color);

        h3 {
            @apply text-xs font-medium mb-1;
            color: var(--text-tertiary);
        }

        ul {
            @apply space-y-1;

            .active {
                background-color: var(--accent-color);
                color: white;
            }

            .not-active {
                @apply transition-colors;
                color: var(--text-primary);

                &:hover {
                    background-color: var(--hover-bg);
                }
            }

            li {
                @apply flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors;
                border-radius: var(--button-radius);
            }
        }
    }

    .content {
        @apply flex-1 p-8 max-w-2xl;
        background-color: var(--bg-window);
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 1.5rem;
        align-content: start;

        li {
            @apply flex items-center flex-col gap-3 cursor-pointer;

            img {
                @apply object-contain object-center size-16 relative transition-transform;
            }

            &:hover img {
                @apply scale-105;
            }

            p {
                @apply text-sm text-center font-medium w-full;
                color: var(--text-primary);
                word-wrap: break-word;
            }
        }
    }
}

#txtfile {
    @apply w-md absolute top-36 right-32 overflow-hidden;
    background-color: var(--bg-window);
    border-radius: var(--window-radius);
    box-shadow: var(--window-shadow);

    h2 {
        @apply font-bold text-sm text-center w-full;
        color: var(--text-primary);
    }
}

#imgfile {
    @apply w-xl absolute top-40 left-2/12 overflow-hidden;
    background-color: var(--bg-window);
    border-radius: var(--window-radius);
    box-shadow: var(--window-shadow);

    #window-header {
        p {
            @apply font-bold;
            color: var(--text-secondary);
        }
    }

    .preview {
        @apply p-2 max-h-[70vh];
        background-color: var(--bg-gray-medium);

        img {
            @apply w-full h-fit object-contain object-center;
        }
    }


    #home {
        @apply relative z-0 max-sm:hidden;

        ul {
            li {
                @apply absolute z-0 select-none flex items-center flex-col;

                img {
                    @apply group-hover:bg-gray-950/10 p-1 rounded-md;
                }

                p {
                    @apply text-sm text-white text-center px-1 rounded-md group-hover:bg-blue-500 transition-colors max-w-40;
                }
            }
        }
    }
}